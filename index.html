<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <title>lyydaisy's homepage</title>
        <link href="./css/index.css" rel="stylesheet" type="text/css"/>
        <script src="./js/jquery-1.11.2.min.js"></script>
        <script src="./js/prefixfree.min.js"></script>
    </head>
    <body>
        <div class="sycp sycp1"></div>
        <div class="sycp sycp2"></div>
        <div class="sycp sycp3"></div>
        <div class="sycp sycp4"></div>
        <div class="lyy">
            <p>
                <a href="javascript:void(0);">lyy</a>
            </p>
        </div>

        <div class="ball ballHide ball1">
            <p class="ballText"><a href="test.html" tltle="lyy简介" alt="lyy简介">简介</a></p>
        </div>
        <div class="ball ballHide ball2">
            <p class="ballText">杂烩</p>
        </div>
        <div class="ball ballHide ball3">
            <p class="ballText"><a href="/jekyll" title="lyy博客" alt="lyy博客">博客</a>
            </p>
        </div>
        <div class="ball ballHide ball4">
            <p class="ballText"><a href="http://www.weibo.com/u/2550326917" title="lyy微博" alt="lyy微博">微博</a></p>
        </div>
        <div class="crystal crystalHide">
            <p class="crystalText">Home</p>
            <div class="crystalrope"></div>
        </div>
        <div class="daisy">DAISY</div>

        <script>
        $(".lyy a").bind("click",function(){
            $(".sycp,.lyy").addClass("sycpfade");
            setTimeout(function(){
                $(".ball,.crystal").removeClass("ballUp").addClass("ballFall");
                $(".daisy").slideDown();
                setTimeout(function(){
                    $(".ball").removeClass("ballFall ballHide").addClass("ballRotateStart");
                    $(".crystal").removeClass("ballFall crystalHide").addClass("ballRotateStart");
                    setTimeout(function(){
                        $(".ball,.crystal").addClass("ballRotate");
                    },500);
                },1000);  
            },500);
        });
        $(".crystal").bind("click",function(){
            $(".ball").removeClass("ballFall ballRotateStart ballRotate").addClass("ballUp ballHide");
            $(".crystal").removeClass("ballHover ballFall ballRotateStart ballRotate").addClass("ballUp crystalHide");
            $(".daisy").slideUp();
            setTimeout(function(){
                $(".sycp,.lyy").hide().removeClass("sycpfade").fadeIn();
            },1000);
        });
        $(".ball,.crystal").each(function(index,ele){
            $(ele).bind("mouseover",function(event){
                event = event||window.event;
                var target = event.fromElement||event.relatedTarget;
                if($(target).hasClass("ballText")||target.nodeName=="A"){
                    return false;
                }
                $(this).removeClass("ballRotate ballRotateStart").addClass("ballHover");
            }).bind("mouseout",function(event){
                event = event||window.event;
                var target = event.fromElement||event.relatedTarget;
                if($(target).hasClass("ballText")||target.nodeName=="A"){
                    return false;
                }
                var that = $(this);
                if(!that.hasClass("ballHide")&&!that.hasClass("crystalHide")){
                    that.removeClass("ballHover").addClass("ballHoverOut");
                    setTimeout(function(){
                        that.removeClass("ballHoverOut").addClass("ballRotateStart");
                        setTimeout(function(){
                            that.addClass("ballRotate");
                        },500);
                    },1000);
                }
            });
        });
        $(function(){
            $(".preload").html('\
            <img src="./img/crystal.png"/>\
            <img src="./img/crystalrope.png"/>\
            <img src="./img/rope.png"/>');
        });
        </script>
        <div class="preload" style="display:none"></div>
    </body>
</html>